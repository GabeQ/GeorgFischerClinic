;$.getJSON("http://www.ti.com/general/docs/readAkamaiHeaders0.tsp",function(data){window.tiUserGeo=data;});var autoCollapse=2;var collapseCaption='hide';var expandCaption='show';function collapseTable(tableIndex){var Button=document.getElementById('collapseButton'+tableIndex);var Table=document.getElementById('collapsibleTable'+tableIndex);if(!Table||!Button){return false;}var Rows=Table.rows;var i;if(Button.firstChild.data===collapseCaption){for(i=1;i<Rows.length;i++){Rows[i].style.display='none';}Button.firstChild.data=expandCaption;}else{for(i=1;i<Rows.length;i++){Rows[i].style.display=Rows[0].style.display;}Button.firstChild.data=collapseCaption;}}function createClickHandler(tableIndex){return function(e){e.preventDefault();collapseTable(tableIndex);};}function createCollapseButtons(){var tableIndex=0;var NavigationBoxes={};var Tables=document.getElementsByTagName('table');var i;for(i=0;i<Tables.length;i++){if($(Tables[i]).hasClass('collapsible')){var HeaderRow=Tables[i].
getElementsByTagName('tr')[0];if(!HeaderRow){continue;}var Header=HeaderRow.getElementsByTagName('th')[0];if(!Header){continue;}NavigationBoxes[tableIndex]=Tables[i];Tables[i].setAttribute('id','collapsibleTable'+tableIndex);var Button=document.createElement('span');var ButtonLink=document.createElement('a');var ButtonText=document.createTextNode(collapseCaption);Button.className='collapseButton';ButtonLink.style.color=Header.style.color;ButtonLink.setAttribute('id','collapseButton'+tableIndex);ButtonLink.setAttribute('href','#');$(ButtonLink).on('click',createClickHandler(tableIndex));ButtonLink.appendChild(ButtonText);Button.appendChild(document.createTextNode('['));Button.appendChild(ButtonLink);Button.appendChild(document.createTextNode(']'));Header.insertBefore(Button,Header.firstChild);tableIndex++;}}for(i=0;i<tableIndex;i++){if($(NavigationBoxes[i]).hasClass('collapsed')||(tableIndex>=autoCollapse&&$(NavigationBoxes[i]).hasClass('autocollapse'))){collapseTable(i);}else if($(
NavigationBoxes[i]).hasClass('innercollapse')){var element=NavigationBoxes[i];while((element=element.parentNode)){if($(element).hasClass('outercollapse')){collapseTable(i);break;}}}}}mw.hook('wikipage.content').add(createCollapseButtons);function _MSP430UartTbit_TX(mode,i,s_mod,f_mod){switch(mode){case 0:return(1/baudrate);case 1:return((1/brclk)*(lf_div_i+UCSx_mod[s_mod%8][i%8]));case 2:if(SX_BUG){return((1/brclk)*((16+UCSx_mod[s_mod%8][i%8]-(i>0?UCSx_mod[s_mod%8][(i-1)%8]:0))*osr_div_i+f_mod));}else{return((1/brclk)*((16+UCSx_mod[s_mod%8][i%8])*osr_div_i+f_mod));}break;default:return(1/baudrate);}}function _MSP430UartTX_error(mode,s_mod,f_mod,return_max_error){var i=0;var t_ideal=0;var t_usci=0;var bit_error=0;return_max_error.max_error=0;return_max_error.max_neg_error=0;return_max_error.max_pos_error=0;for(i=0;i<NO_BITS;i++){t_ideal=t_ideal+_MSP430UartTbit_TX(0,i,0,0);t_usci=t_usci+_MSP430UartTbit_TX(mode,i,s_mod,f_mod);bit_error=(t_usci-t_ideal)*baudrate*100;if(bit_error<
return_max_error.max_neg_error){return_max_error.max_neg_error=bit_error;}if(bit_error>return_max_error.max_pos_error){return_max_error.max_pos_error=bit_error;}if((bit_error*bit_error)>((return_max_error.max_error)*(return_max_error.max_error))){return_max_error.max_error=bit_error;}}return return_max_error;}function _MSP430UartRX_error(mode,s_mod,f_mod,t_sync,return_max_error){var i;var j;var half_bit_clocks;var t_ideal=0;var t_usci=0;var bit_error=0;return_max_error.max_error=0;return_max_error.max_pos_error=0;return_max_error.max_neg_error=0;for(i=0;i<NO_BITS;i++){t_ideal=(i+0.5)/baudrate;t_usci=0;for(j=0;j<i;j++){t_usci=t_usci+_MSP430UartTbit_TX(mode,j,s_mod,f_mod);}if(mode==2){if(SX_BUG){if(f_mod==15){t_usci=t_usci+(1/brclk)*(t_sync+(8+UCSx_mod[s_mod%8][i%8]-(i>0?UCSx_mod[s_mod%8][(i-1)%8]:0))*osr_div_i+parseInt(7+UCSx_mod[s_mod%8][i%8]));}else{t_usci=t_usci+(1/brclk)*(t_sync+(8+UCSx_mod[s_mod%8][i%8]-(i>0?UCSx_mod[s_mod%8][(i-1)%8]:0))*osr_div_i+parseInt((f_mod+1)/2));}}else{if(
f_mod==15){t_usci=t_usci+(1/brclk)*(t_sync+(8+UCSx_mod[s_mod%8][i%8])*osr_div_i+parseInt(7+UCSx_mod[s_mod%8][i%8]));}else{t_usci=t_usci+(1/brclk)*(t_sync+(8+UCSx_mod[s_mod%8][i%8])*osr_div_i+parseInt((f_mod+1)/2));}}}else{t_usci=t_usci+(1/brclk)*(t_sync+parseInt(lf_div_i/2)+UCSx_mod[s_mod%8][i%8]);}bit_error=(t_usci-t_ideal)*baudrate*100;if(bit_error<return_max_error.max_neg_error){return_max_error.max_neg_error=bit_error;}if(bit_error>return_max_error.max_pos_error){return_max_error.max_pos_error=bit_error;}if((bit_error*bit_error)>((return_max_error.max_error)*(return_max_error.max_error))){return_max_error.max_error=bit_error;}}return return_max_error;}function _MSP430UartRX_error_worst_case(mode,s_mod,f_mod,worst_case_error){var max_worse_case_error={max_error:0,max_pos_error:0,max_neg_error:0};_MSP430UartRX_error(mode,s_mod,f_mod,-0.5,max_worse_case_error);worst_case_error=max_worse_case_error.max_error;_MSP430UartRX_error(mode,s_mod,f_mod,0.0,max_worse_case_error);if((
worst_case_error)*(worst_case_error)<max_worse_case_error.max_error*max_worse_case_error.max_error){worst_case_error=max_worse_case_error.max_error;}_MSP430UartRX_error(mode,s_mod,f_mod,+0.5,max_worse_case_error);if((worst_case_error)*(worst_case_error)<max_worse_case_error.max_error*max_worse_case_error.max_error){worst_case_error=max_worse_case_error.max_error;}return worst_case_error;}function _MSP430UartCalculateBaudDividers(brclk_f,baudrate_f,overSampling){var outputText="";if(VERBOSE){console.debug(" ");console.debug("executing _CalculateBaudDividers\n");console.debug("Brclk frequency [Hz]= "+brclk_f+"\n");console.debug("Baudrate [Baud] = "+baudrate_f+"\n");console.debug("overSampling = "+overSampling+"\n");}var s_mod,f_mod;var opt_s_mod,opt_f_mod;var status=1;var max_error={max_error:0,max_pos_error:0,max_neg_error:0};var abs_max={max_error:0,max_pos_error:0,max_neg_error:0};if((baudrate_f===0)&&(brclk_f===0)){status=-1;return status;}else{baudrate=baudrate_f;brclk=brclk_f;}
lf_div_f=(brclk)/(baudrate);lf_div_i=parseInt(lf_div_f);if((lf_div_i>0)&&(overSampling===0)){if(STD_CALC){opt_s_mod=Math.round((lf_div_f-lf_div_i)*8);opt_f_mod=0;_MSP430UartTX_error(1,opt_s_mod,0,abs_max);}else{opt_s_mod=-1;opt_f_mod=0;abs_max.max_error=abs_max.max_pos_error=abs_max.max_neg_error=0;for(s_mod=0;s_mod<8;s_mod++){if(OPT_FOR_RX){_MSP430UartRX_error_worst_case(1,s_mod,0,max_error.max_error);}else{_MSP430UartTX_error(1,s_mod,0,max_error);}if(((max_error.max_error*max_error.max_error)<(abs_max.max_error*abs_max.max_error))||(opt_s_mod==-1)){abs_max.max_error=max_error.max_error;abs_max.max_pos_error=max_error.max_pos_error;abs_max.max_neg_error=max_error.max_neg_error;opt_s_mod=s_mod;}}}UCxBR0UART=lf_div_i&0xFF;UCxBR1UART=lf_div_i>>8;UCxBRS=opt_s_mod;UCxBRF=opt_f_mod;_MSP430UartTX_error(1,opt_s_mod,0,max_error);outputText+=" ";outputText+="<h2> Low Frequency Baud Rate Generation </h2><br>";outputText+="Divider = "+lf_div_f+";  BRDIV = "+lf_div_i+"<br>";outputText+=
"S-Modulation UCBRSx = "+opt_s_mod+"<br>";outputText+="UCxBR0UART = "+UCxBR0UART+"<br>";outputText+="UCxBR1UART = "+UCxBR1UART+"<br>";outputText+="UCxBRS = "+UCxBRS+"<br>";outputText+="UCxBRF = "+UCxBRF+"<br>";outputText+="Max. TX bit error: "+max_error.max_error+"("+max_error.max_neg_error+", "+max_error.max_pos_error+")"+"<br>";abs_max.max_error=abs_max.max_pos_error=abs_max.max_neg_error=0;_MSP430UartRX_error(1,opt_s_mod,0,-0.5,max_error);if(max_error.max_error>abs_max.max_error){abs_max.max_error=max_error.max_error;}if(max_error.max_pos_error>abs_max.max_pos_error){abs_max.max_pos_error=max_error.max_pos_error;}if(max_error.max_neg_error<abs_max.max_neg_error){abs_max.max_neg_error=max_error.max_neg_error;}outputText+="Max. RX bit error (sync.: -0.5 BRCLK): "+max_error.max_error+"("+max_error.max_neg_error+","+max_error.max_pos_error+")"+"<br>";_MSP430UartRX_error(1,opt_s_mod,0,0,max_error);if(max_error.max_error>abs_max.max_error){abs_max.max_error=max_error.max_error;}if(
max_error.max_pos_error>abs_max.max_pos_error){abs_max.max_pos_error=max_error.max_pos_error;}if(max_error.max_neg_error<abs_max.max_neg_error){abs_max.max_neg_error=max_error.max_neg_error;}outputText+="Max. RX bit error (sync.: +/-0 BRCLK): "+max_error.max_error+"("+max_error.max_neg_error+","+max_error.max_pos_error+")"+"<br>";_MSP430UartRX_error(1,opt_s_mod,0,+0.5,max_error);if(max_error.max_error>abs_max.max_error){abs_max.max_error=max_error.max_error;}if(max_error.max_pos_error>abs_max.max_pos_error){abs_max.max_pos_error=max_error.max_pos_error;}if(max_error.max_neg_error<abs_max.max_neg_error){abs_max.max_neg_error=max_error.max_neg_error;}outputText+="Max. RX bit error (sync.: +0.5 BRCLK): "+max_error.max_error+"("+max_error.max_neg_error+","+max_error.max_pos_error+")"+"<br>";outputText+="Max. RX bit error (over: -0.5,0,+0.5): "+abs_max.max_error+"("+abs_max.max_neg_error+","+abs_max.max_pos_error+")"+"<br>";}else if((lf_div_f>=16)&&(overSampling==1)){outputText+=" "+"<br>";
outputText+="<h2>Oversampling Baud Rate Generation </h2>"+"<br>";osr_div_f=(brclk)/(baudrate)/16;osr_div_i=parseInt(osr_div_f);if(STD_CALC){if(osr_div_i<=1){opt_f_mod=0;}else{opt_f_mod=parseInt((osr_div_f-osr_div_i)*16);}opt_s_mod=0;_MSP430UartTX_error(2,opt_s_mod,opt_f_mod,abs_max);}else{opt_s_mod=-1;abs_max.max_error=abs_max_pos_error=abs_max.max_neg_error=0;for(f_mod=0;f_mod<(osr_div_i<=1?1:16);f_mod++){for(s_mod=0;s_mod<8;s_mod++){if(OPT_FOR_RX){_MSP430UartRX_error_worst_case(2,s_mod,f_mod,max_error.max_error);}else{_MSP430UartTX_error(2,s_mod,f_mod,max_error);}if(((max_error.max_error*max_error.max_error)<(abs_max.max_error*abs_max.max_error))||(opt_s_mod==-1)){abs_max.max_error=max_error.max_error;abs_max.max_pos_error=max_error.max_pos_error;abs_max.max_neg_error=max_error.max_neg_error;opt_s_mod=s_mod;opt_f_mod=f_mod;}}}}if(osr_div_i==1){osr_div_i=2;_MSP430UartTX_error(2,0,0,max_error);if((max_error.max_error*max_error.max_error)<(abs_max.max_error*abs_max.max_error)){abs_max.
max_error=max_error.max_error;abs_max.max_pos_error=max_error.max_pos_error;abs_max.max_neg_error=max_error.max_neg_error;opt_s_mod=0;opt_f_mod=0;}else{osr_div_i=1;}}_MSP430UartTX_error(2,opt_s_mod,opt_f_mod,max_error);if((max_error.max_error*max_error.max_error)>(50*50)){outputText+="... not feasible! Max. error > 50%"+"<br>";status=-1;}else{UCxBR0UART=osr_div_i&0xFF;UCxBR1UART=osr_div_i>>8;UCxBRS=opt_s_mod;UCxBRF=opt_f_mod;outputText+="Divider= "+osr_div_f+";  BRDIV= "+osr_div_i+"<br>";outputText+="S-Modulation UCBRSx= "+opt_s_mod+"<br>";outputText+="F-Modulation UCBRFx= "+opt_f_mod+"<br>";outputText+="UCxBR0UART = "+UCxBR0UART+"<br>";outputText+="UCxBR1UART = "+UCxBR1UART+"<br>";outputText+="UCxBRS = "+UCxBRS+"<br>";outputText+="UCxBRF = "+UCxBRF+"<br>";outputText+="Max. TX bit error: "+max_error.max_error+"("+max_error.max_neg_error+","+max_error.max_pos_error+")"+"<br>";abs_max.max_error=abs_max.max_pos_error=abs_max.max_neg_error=0;_MSP430UartRX_error(2,opt_s_mod,opt_f_mod,-0.5,
max_error);if(max_error.max_error>abs_max.max_error){abs_max.max_error=max_error.max_error;}if(max_error.max_pos_error>abs_max.max_pos_error){abs_max.max_pos_error=max_error.max_pos_error;}if(max_error.max_neg_error<abs_max.max_neg_error){abs_max.max_neg_error=max_error.max_neg_error;}outputText+="Max. RX bit error (sync.: -0.5 BRCLK): "+max_error.max_error+"("+max_error.max_neg_error+","+max_error.max_pos_error+")"+"<br>";_MSP430UartRX_error(2,opt_s_mod,opt_f_mod,0,max_error);if(max_error.max_error>abs_max.max_error){abs_max.max_error=max_error.max_error;}if(max_error.max_pos_error>abs_max.max_pos_error){abs_max.max_pos_error=max_error.max_pos_error;}if(max_error.max_neg_error<abs_max.max_neg_error){abs_max.max_neg_error=max_error.max_neg_error;}outputText+="Max. RX bit error (sync.: +/-0 BRCLK): "+max_error.max_error+"("+max_error.max_neg_error+","+max_error.max_pos_error+")"+"<br>";_MSP430UartRX_error(2,opt_s_mod,opt_f_mod,+0.5,max_error);if(max_error.max_error>abs_max.max_error){
abs_max.max_error=max_error.max_error;}if(max_error.max_pos_error>abs_max.max_pos_error){abs_max.max_pos_error=max_error.max_pos_error;}if(max_error.max_neg_error<abs_max.max_neg_error){abs_max.max_neg_error=max_error.max_neg_error;}outputText+="Max. RX bit error (sync.: +0.5 BRCLK): "+max_error.max_error+"("+max_error.max_neg_error+","+max_error.max_pos_error+")"+"<br>";outputText+="Max. RX bit error (over: -0.5,0,+0.5): "+abs_max.max_error+"("+abs_max.max_neg_error+","+abs_max.max_pos_error+")"+"<br>";}}else{outputText+="... not feasible!"+"<br>";status=-1;}if(VERBOSE){console.debug("Exiting _CalculateBaudDividers gracefully"+"<br>");}return outputText;}function _MSP430UartCalculateSPIBitDividers(brclk,bitrate){if(VERBOSE){outputText+="executing inside _CalculateSPIBitDividers; brclk = "+brclk+" baudrate = "+bitrate+"<br>";}var f_div_f;var f_div_i;var status;f_div_f=brclk/bitrate;f_div_i=Math.round(f_div_f);outputText+="Divider = "+f_div_f+"<br>";outputText+="localBRDIV = "+f_div_i+
"<br>";if(f_div_f>1){UCxBR0SPI=f_div_i&0xFF;UCxBR1SPI=f_div_i>>8;status=1;}else{status=-1;}outputText+="UCxBR0SPI = "+UCxBR0SPI+"<br>";outputText+="UCxBR1SPI = "+UCxBR1SPI+"<br>";return status;}function _MSP430UartCalculateI2CBitDividers(brclk,bitrate){if(VERBOSE){outputText+="executing inside _CalculateI2CBitDividers; brclk = "+brclk+" baudrate = "+bitrate+"<br>";}var f_div_f;var f_div_i;var status;f_div_f=brclk/bitrate;f_div_i=Math.round(f_div_f);if(VERBOSE){outputText+="Divider = "+f_div_f+"<br>";outputText+="BRDIV = "+f_div_i+"<br>";}if(f_div_f>1){UCxBR0I2C=f_div_i&0xFF;UCxBR1I2C=f_div_i>>8;status=1;}else{status=-1;}if(VERBOSE){outputText+="UCxBR0I2C = "+UCxBR0I2C+"<br>";outputText+="UCxBR1I2C = "+UCxBR1I2C+"<br>";}return status;}function MSP430UartnumericCheck(field){var value=field.value;if(isNaN(value))field.style.backgroundColor='red';else field.style.backgroundColor='white';}function MSP430UartCalculate(){if(isNaN(document.getElementById("clockspeed").value)||isNaN(document.
getElementById("baudrate").value)){document.getElementById("usciDividers").innerHTML="<font color='red'>Input Error: values must be numeric</font>";}else{clockSpeed=parseInt(document.getElementById("clockspeed").value);baudRate=parseInt(document.getElementById("baudrate").value);document.getElementById("usciDividers").innerHTML=_MSP430UartCalculateBaudDividers(clockSpeed,baudRate,0)+_MSP430UartCalculateBaudDividers(clockSpeed,baudRate,1);}}function isHex(string){for(i=0;i<string.length;i++){if(isNaN(parseInt(string.charAt(i),16))){return false;}}return true;}function MSP430BslChksmCalc(bsl_type,bsl_bytes){var data=bsl_bytes.value.replace(/\s+/g,'')
var ckh,ckl;if(data.length&0x01){alert("BSL Packet data should have even length");}else if(isHex(data)==false){alert("Invalid hexadecimal string");}else{ckl=ckh=0;if(bsl_type[0].checked){var even=0;var byte_string=new String;for(i=0;i<data.length;i+=2){byte_string=data[i]+data[i+1]
if(even==0){ckl^=parseInt(byte_string,16);}else{ckh^=parseInt(byte_string,16);}even^=0x01;}ckl^=0xFF;ckh^=0xFF;alert("CKL=0x"+ckl.toString(16).toUpperCase()+", CKH=0x"+ckh.toString(16).toUpperCase());}else{var CRC=0xFFFF;var byte_string=new String;for(i=0;i<data.length;i+=2){var x;byte_string=data[i]+data[i+1];data_byte=parseInt(byte_string,16);x=((CRC>>8)^data_byte)&0xff;x^=x>>4;CRC=(CRC<<8)^(x<<12)^(x<<5)^x;}alert("CKL=0x"+(CRC&0xFF).toString(16).toUpperCase()+", CKH=0x"+((CRC>>8)&0xFF).toString(16).toUpperCase());}}}var NavigationBarHide='['+collapseCaption+']';var NavigationBarShow='['+expandCaption+']';window.toggleNavigationBar=function(indexNavigationBar,event){var NavToggle=document.getElementById('NavToggle'+indexNavigationBar);var NavFrame=document.getElementById('NavFrame'+indexNavigationBar);var NavChild;if(!NavFrame||!NavToggle){return false;}if(NavToggle.firstChild.data===NavigationBarHide){for(NavChild=NavFrame.firstChild;NavChild!=null;NavChild=NavChild.nextSibling){if(
$(NavChild).hasClass('NavContent')||$(NavChild).hasClass('NavPic')){NavChild.style.display='none';}}NavToggle.firstChild.data=NavigationBarShow;}else if(NavToggle.firstChild.data===NavigationBarShow){for(NavChild=NavFrame.firstChild;NavChild!=null;NavChild=NavChild.nextSibling){if($(NavChild).hasClass('NavContent')||$(NavChild).hasClass('NavPic')){NavChild.style.display='block';}}NavToggle.firstChild.data=NavigationBarHide;}event.preventDefault();};function createNavigationBarToggleButton(){var indexNavigationBar=0;var NavFrame;var NavChild;var divs=document.getElementsByTagName('div');for(var i=0;(NavFrame=divs[i]);i++){if($(NavFrame).hasClass('NavFrame')){indexNavigationBar++;var NavToggle=document.createElement('a');NavToggle.className='NavToggle';NavToggle.setAttribute('id','NavToggle'+indexNavigationBar);NavToggle.setAttribute('href','#');$(NavToggle).on('click',$.proxy(window.toggleNavigationBar,window,indexNavigationBar));var isCollapsed=$(NavFrame).hasClass('collapsed');for(
NavChild=NavFrame.firstChild;NavChild!=null&&!isCollapsed;NavChild=NavChild.nextSibling){if($(NavChild).hasClass('NavPic')||$(NavChild).hasClass('NavContent')){if(NavChild.style.display==='none'){isCollapsed=true;}}}if(isCollapsed){for(NavChild=NavFrame.firstChild;NavChild!=null;NavChild=NavChild.nextSibling){if($(NavChild).hasClass('NavPic')||$(NavChild).hasClass('NavContent')){NavChild.style.display='none';}}}var NavToggleText=document.createTextNode(isCollapsed?NavigationBarShow:NavigationBarHide);NavToggle.appendChild(NavToggleText);for(var j=0;j<NavFrame.childNodes.length;j++){if($(NavFrame.childNodes[j]).hasClass('NavHead')){NavToggle.style.color=NavFrame.childNodes[j].style.color;NavFrame.childNodes[j].appendChild(NavToggle);}}NavFrame.setAttribute('id','NavFrame'+indexNavigationBar);}}}mw.hook('wikipage.content').add(createNavigationBarToggleButton);function uploadwizard_newusers(){if(mw.config.get('wgNamespaceNumber')===4&&mw.config.get('wgTitle')==='Upload'&&mw.config.get(
'wgAction')==='view'){var oldDiv=document.getElementById('autoconfirmedusers'),newDiv=document.getElementById('newusers');if(oldDiv&&newDiv){var userGroups=mw.config.get('wgUserGroups');if(userGroups){for(var i=0;i<userGroups.length;i++){if(userGroups[i]==='autoconfirmed'){oldDiv.style.display='block';newDiv.style.display='none';return;}}}oldDiv.style.display='none';newDiv.style.display='block';return;}}};mw.loader.state({"site":"ready"});
/* cache key: davincid_wikidb:resourceloader:filter:minify-js:7:c1e6cb747b95c410252a1e31677b5621 */